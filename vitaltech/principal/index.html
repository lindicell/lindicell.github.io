<!doctype html>
<html lang="pt-BR">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<link href="../css/fonts.css" rel="stylesheet" type="text/css" media="screen">
<link href="../assets/fontawesome-free-5.15.1-web/css/all.min.css" rel="stylesheet" type="text/css" media="screen">
<link href="../css/general-style.css" rel="stylesheet" type="text/css" media="screen">
<link href="../css/principal-style.css" rel="stylesheet" type="text/css" media="screen">
<title>VitalTech</title>
</head>
<body>
<div class="loading">
	<i class="fa fa-spinner fa-spin"></i>
</div>
<nav class="navbar navbar-expand-sm p-0">
	<div class="d-flex justify-content-between w-100">
		<a class="navbar-brand ml-3" href="/index.html">
			VitalTech
			<small>Cuidando da sua saúde com tecnologia.</small>
		</a>
		<div class="d-flex align-self-baseline align-items-center">
			<h4>Olá <span data-user="nome">...</span></h4>
			<a class="btn btn-secondary ml-5" href="../login.html">Sair</a>
		</div>
	</div>
</nav>
<main class="container" role="main" data-spy="scroll" data-target="#navbar-example2" data-offset="0">
 <div class="main-panel-app">
 	<div class="d-flex justify-content-between align-items-start">
 		<div class="main-title">
			Bem-Vindo <span data-user="primeiroNome">...</span>
		</div>
		<div class="accessible-actions">
			Texto:<button id="diminuir-fonte" class="btn btn-dark">-A</button><button id="aumentar-fonte" class="btn btn-dark bold">+A</button>
		</div>
 	</div>
 	<div class="dashboard">
 		<div class="dashboard-info">
			<div class="dashboard-title mb-3">Monitoramento da sua saúde</div>
			<div class="d-flex">
				<div class="info-card">
					<div class="info-card-title">
						Hoje
					</div>
					<div class="info-card-data">
						Verificado: 5 vezes
					</div>
				</div>
				<div class="info-card">
					<div class="info-card-title">
						Últimos 3 meses
					</div>
					<div class="info-card-data">
						Verificado: 100 vezes
					</div>
				</div>
			</div>
			<div class="d-flex">
				<div class="info-card">
				<div class="d-flex">
					<div class="fs-2 mr-3">Gráfico do mês de novembro</div>
					<div class="form-group w-25">
						<select class="form-control" id="mes" onChange="changeDataChartPressao(this.value);">
						  <option value="7">Julho</option>
						  <option value="8">Agosto</option>
						  <option value="9">Setembro</option>
						  <option value="10">Outubro</option>
						  <option value="11" selected>Novembro</option>
						</select>
					</div>
				</div>
					<canvas id="myChart" width="400" height="200"></canvas>
				</div>
			</div>
 		</div>
 		<div class="dashboard-menu-bar">
 			<button class="btn btn-secondary btn-dashboard" onClick="window.location='conectar_relogio.html';" data-tuto="1">
				<i class="fa fa-share-alt"></i>Conectar Relógio
 			</button>
 			<button class="btn btn-secondary btn-dashboard" onClick="window.location='cadastrar_relogio.html';" data-tuto="2">
 				<i class="fa fa-plus-circle"></i>Cadastrar Relógio
 			</button>
 			<button class="btn btn-secondary btn-dashboard" onClick="window.location='meus_dados.html';" data-tuto="3">
 				<i class="fa fa-smile"></i>Meus dados
 			</button>
 		</div>
 	</div>
 </div>
</main>
<footer>
	<h4 class="footer-title">VitalTech</h4>
	<div class="footer-info">
		<div class="footer-fale-conosco">
			Fale Conosco
		</div>
		<div class="footer-fone">(51)99902-2896</div>
	</div>
</footer>
<div class="modal" id="modalTutorialPergunta">
	<div class="modal-panel">
		<div class="row col-12 mb-3">
			Este é seu primeiro acesso a nossa plataforma, por isso temos um tutorial explicando como utilizar nosso site!
		</div>
		<div class="row pt-3">
			<div class="col"><button class="btn btn-secondary w-100" onClick="tutorialAgoraNao()">Agora não</button></div>
			<div class="col"><button class="btn btn-secondary w-100" onClick="iniciarTutorial()">Iniciar</button></div>
		</div>
	</div>
</div>

<div class="modal-panel modal-tuto" id="tutorialParte1">
	<div class="row col-12 mb-3">
		No botão Conectar relógio é possível conectar seu Relógio Inteligente Vitaltech com nosso sistema que vai rceber seus dados de pressão.
	</div>
	<button class="btn btn-secondary float-right" onClick="tutorialParte(2)">Entendi</button>
	<img class="touch-app" src="../images/icones/touch_app.png">
</div>

<div class="modal-panel modal-tuto" id="tutorialParte2">
	<div class="row col-12 mb-3">
		No botão Cadastrar Relógio você vai colocar o código do seu relógio para que seja possível fazer a leitura dos dados.
	</div>
	<button class="btn btn-secondary float-right" onClick="tutorialParte(3)">Entendi</button>
	<img class="touch-app" src="../images/icones/touch_app.png">
</div>

<div class="modal-panel modal-tuto" id="tutorialParte3">
	<div class="row col-12 mb-3">
		No botão Meus dados é possível adicionar uma foto para seu perfil e visualizar seus dados pessoais.
	</div>
	<button class="btn btn-secondary float-right" onClick="tutorialParte(4)">Entendi</button>
	<img class="touch-app" src="../images/icones/touch_app.png">
</div>

<!-- Optional JavaScript; choose one of the two! --> 

<!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) --> 
<script src="../js/jquery-3.5.1.min.js"></script> 
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
<script src="../js/jquery-1.4.2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
<script src="../js/geral.js"></script>
<script>
	var dataChart = gerarDataChart();
	var ctx = document.getElementById('myChart');
	var pressaoChart = new Chart(ctx, {
		type: 'line',
		data: {
			labels: [],
			datasets: [{
				label: '',
				data: [],
				backgroundColor: 'transparent',
				borderColor: '#FFDA1F',
				borderWidth: 1
			}]
		},
		options: {
			scales: {
				yAxes: [{
					ticks: {
						beginAtZero: true
					}
				}]
			}
		}
	});

	$(document).ready(() => {
		tutorialParte(0);

		if (window.sessionStorage.getItem('primeiroLogin') == 'N') {
			$('#modalTutorialPergunta').hide();
		} else {
			$('#modalTutorialPergunta').show();
			window.sessionStorage.setItem('primeiroLogin', 'N');
		}
		
		$('#mes').val(11);
		changeDataChartPressao($('#mes').val());
	});
	
	function changeDataChartPressao(mes) {
		removeData(pressaoChart);
		addData(pressaoChart, dataChart, mes);
	}
	
	function addData(chart, datachart, mes) {
		var data = datachart.find((val) => val.mes == mes);
		if (data) {
			chart.data.labels = data.labels;
			chart.data.datasets.forEach((dataset) => {
				dataset.label = data.label;
				dataset.data = data.data;
			});
			chart.update();
		}
	}
	
	function removeData(chart) {
		chart.data.labels.pop();
		chart.data.datasets.forEach((dataset) => {
			dataset.label = '';
			dataset.data.pop();
		});
		chart.update();
	}
	
	function tutorialAgoraNao() {
		$('#modalTutorialPergunta').hide();
	}
	
	function iniciarTutorial() {
		$('#modalTutorialPergunta').hide();
		tutorialParte(1);
	}
	
	function tutorialPosition(parte) {
		var offset = $('[data-tuto='+parte+']').offset();
		var height = $('#tutorialParte'+parte).innerHeight();
		var width = $('#tutorialParte'+parte).innerWidth();
		$('#tutorialParte'+parte).css('left', offset.left - width - 16).css('top', offset.top - height - 16);
	}
	
	function tutorialParte(parte) {
		switch(parte){
			case 1:
			case 2:
			case 3:
				tutorialParte(0);
				tutorialPosition(parte);
				$('#tutorialParte'+parte).show();
				break;
			default:
				$('#tutorialParte1').hide();
				$('#tutorialParte2').hide();
				$('#tutorialParte3').hide();
				break;
		}
	}
	
	</script>
<!-- Option 2: jQuery, Popper.js, and Bootstrap JS
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    -->
</body>
</html>